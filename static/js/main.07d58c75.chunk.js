(this["webpackJsonpspacex-dashboard"]=this["webpackJsonpspacex-dashboard"]||[]).push([[0],{29:function(e){e.exports=JSON.parse('{"b":"https://api.spacexdata.com/v3/launches","a":"http://localhost:5000"}')},59:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),c=a.n(s),i=(a(59),a(5)),l=a(6),o=a(8),u=a(7),d=a(19),b=a(3),h=a(1),j=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.user;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark  bg-dark ",children:[Object(h.jsx)(d.b,{className:"navbar-brand mb-0 h1",to:"/",children:"SpaceX Dashboard"}),Object(h.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(h.jsxs)("ul",{className:"navbar-nav",children:[!e&&Object(h.jsxs)(r.a.Fragment,{children:[Object(h.jsx)(d.c,{className:"nav-link",to:"/users/logging",children:"Sign In"}),Object(h.jsx)(d.c,{className:"nav-link",to:"/users/register",children:"Register"})]}),e&&Object(h.jsxs)(r.a.Fragment,{children:[Object(h.jsx)(d.c,{className:"nav-link",to:"/profile",children:e.name}),Object(h.jsx)(d.c,{className:"nav-link",to:"/signout",children:"Logout"})]})]})})]})})}}]),a}(n.Component),m=a(11),p=a.n(m),O=a(23),f=a(29),v=a(10),x=a.n(v),g=a(39),y=a(104),w=a(105);function S(){return Math.round(20*Math.random())-10}function C(){var e=50+S(),t=50+S();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var N=Object(y.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function k(e){var t=e.flightName,a=e.details,n=e.missionId,s=e.launchYear,c=e.launchDate,i=e.launchTime,l=N(),o=r.a.useState(C),u=Object(g.a)(o,1)[0],b=r.a.useState(!1),j=Object(g.a)(b,2),m=j[0],p=j[1],O=Object(h.jsxs)("div",{style:u,className:l.paper,children:[Object(h.jsx)("h2",{id:"simple-modal-title",children:"Name: ".concat(t)}),Object(h.jsx)("p",{id:"simple-modal-description",children:"Details: ".concat(a)}),Object(h.jsx)("p",{children:"Mission ID: ".concat(n)}),Object(h.jsx)("p",{children:"Launch Year: ".concat(s)}),Object(h.jsx)("p",{children:"Launch Date: ".concat(c)}),Object(h.jsx)("p",{children:"Launch Time: ".concat(i)}),Object(h.jsx)(k,{})]});return Object(h.jsxs)("div",{children:[Object(h.jsx)(d.b,{to:"#",onClick:function(){p(!0)},children:t}),Object(h.jsx)(w.a,{open:m,onClose:function(){p(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:O})]})}var D=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).renderTableHeader=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("th",{children:"Flight No."}),Object(h.jsx)("th",{children:"Flight Name"}),Object(h.jsx)("th",{children:"Date"})]})},e.renderTableRows=function(){return e.props.data.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.flight_number}),Object(h.jsx)("td",{children:Object(h.jsx)(k,{flightName:e.mission_name,details:e.details,missionId:e.mission_id,launchYear:e.launch_year,launchDate:new Date(e.launch_date_utc).toDateString(),launchTime:new Date(e.launch_date_utc).toLocaleTimeString()})}),Object(h.jsx)("td",{children:e.launch_date_utc})]},e.mission_name)}))},e}return Object(l.a)(a,[{key:"render",value:function(){return this.props.data.length>0?Object(h.jsx)("div",{children:Object(h.jsxs)("table",{className:"table table-border",children:[Object(h.jsx)("thead",{children:Object(h.jsx)("tr",{children:this.renderTableHeader()})}),Object(h.jsx)("tbody",{children:this.renderTableRows()})]})}):Object(h.jsx)("div",{children:"No users."})}}]),a}(n.Component),_=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleStartDateChange=function(e){n.setState({startDate:e.target.value})},n.handleEndDateChange=function(e){n.setState({endDate:e.target.value}),console.log(n.state.endDate)},n.handleFilterChange=function(){var e,t=n.state.mydata,a=n.state,r=a.startDate,s=a.endDate;e=t.filter((function(e){return e.launch_date_utc>=r&&e.launch_date_utc<=s})),n.setState({mydata:e})},n.handleUpcomingChange=function(){var e=n.state.mydata,t=e.filter((function(e){return e.upcoming}));e.filter((function(e){return!e.upcoming}));n.setState({mydata:t})},n.handlePastChange=function(){var e=n.state.mydata.filter((function(e){return!e.upcoming}));n.setState({mydata:e})},n.handleSubmit=function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={filter:0,startDate:"",endDate:"",mydata:[],cdata:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(f.b);case 2:t=e.sent,a=t.data,this.setState({mydata:a,cdata:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("form",{className:"d-flex me-2",onSubmit:this.handleSubmit,children:[Object(h.jsx)("input",{className:"form-control me-2 ",type:"search",value:this.state.date,onChange:this.handleStartDateChange,placeholder:"Start Date","aria-label":"Search"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{className:"form-control me-2",type:"search",value:this.state.date,onChange:this.handleEndDateChange,placeholder:"End Date","aria-label":"Search"}),Object(h.jsx)("button",{className:"btn btn-primary ",type:"submit",onClick:this.handleFilterChange,children:"Filter"}),Object(h.jsx)("button",{className:"btn btn-primary btn-sm",type:"submit",onClick:this.handleUpcomingChange,children:"Upcoming"}),Object(h.jsx)("button",{className:"btn btn-primary btn-sm",type:"submit",onClick:this.handlePastChange,children:"Past"})]})}),Object(h.jsx)(D,{data:this.state.mydata})]})}}]),a}(n.Component),E=a(32),I=a(21),P=a(28),T=a(14),F=a.n(T),U=a(34),L=function(e){var t=e.name,a=e.label,n=e.error,r=Object(U.a)(e,["name","label","error"]);return Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:t,children:a}),Object(h.jsx)("input",Object(I.a)(Object(I.a)({},r),{},{name:t,id:t,className:"form-control"})),n&&Object(h.jsx)("div",{className:"alert alert-danger",children:n})]})},R=function(e){var t=e.name,a=e.label,n=e.options,r=e.error,s=Object(U.a)(e,["name","label","options","error"]);return Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:t,children:a}),Object(h.jsxs)("select",Object(I.a)(Object(I.a)({name:t,id:t},s),{},{className:"form-control",children:[Object(h.jsx)("option",{value:""}),n.map((function(e){return Object(h.jsx)("option",{value:e._id,children:e.name},e._id)}))]})),r&&Object(h.jsx)("div",{className:"alert alert-danger",children:r})]})},H=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:{},errors:{}},e.validate=function(){var t=F.a.validate(e.state.data,e.schema,{abortEarly:!1}).error;if(!t)return null;var a,n={},r=Object(E.a)(t.details);try{for(r.s();!(a=r.n()).done;){var s=a.value;n[s.path[0]]=s.message}}catch(c){r.e(c)}finally{r.f()}return n},e.validateProperty=function(t){var a=t.name,n=t.value,r=Object(P.a)({},a,n),s=Object(P.a)({},a,e.schema[a]),c=F.a.validate(r,s).error;return c?c.details[0].message:null},e.handleSubmit=function(t){t.preventDefault();var a=e.validate();e.setState({errors:a||{}}),a||e.doSubmit()},e.handleChange=function(t){var a=t.currentTarget,n=Object(I.a)({},e.state.errors),r=e.validateProperty(a);r?n[a.name]=r:delete n[a.name];var s=Object(I.a)({},e.state.data);s[a.name]=a.value,e.setState({data:s,errors:n})},e}return Object(l.a)(a,[{key:"renderButton",value:function(e){return Object(h.jsx)("button",{disabled:this.validate(),className:"btn btn-primary",children:e})}},{key:"renderSelect",value:function(e,t,a){var n=this.state,r=n.data,s=n.errors;return Object(h.jsx)(R,{name:e,value:r[e],label:t,options:a,onChange:this.handleChange,error:s[e]})}},{key:"renderInput",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n=this.state,r=n.data,s=n.errors;return Object(h.jsx)(L,{type:a,name:e,value:r[e],label:t,onChange:this.handleChange,error:s[e]})}}]),a}(n.Component),J=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).schema={name:F.a.string().required().min(3).max(15).label("Name"),username:F.a.string().required().label("Username"),email:F.a.string().email().required().label("Email"),password:F.a.string().min(5).max(12).required().label("Password")},n.validate=function(){var e=F.a.validate(n.state.data,n.schema,{abortEarly:!1}).error;if(!e)return null;var t,a={},r=Object(E.a)(e.details);try{for(r.s();!(t=r.n()).done;){var s=t.value;a[s.path[0]]=s.message}}catch(c){r.e(c)}finally{r.f()}return a},n.doSubmit=function(){var e=Object(O.a)(p.a.mark((function e(t){var a,r,s,c,i,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.state.data,r=a.name,s=a.username,c=a.email,i=a.password,l={name:r,username:s,email:c,password:i},console.log(l),x.a.post("http://localhost:5000/users/register/",l).then((function(e){return console.log(e.data)})).catch((function(e){console.log(e)})),n.setState({name:"",password:""}),alert("User Created successfully."),window.location="/";case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={data:{username:"",password:"",name:"",email:""},errors:{}},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("br",{}),Object(h.jsx)("h1",{children:"Register Here"}),Object(h.jsxs)("form",{onSubmit:this.handleSubmit,children:[this.renderInput("name","Name"),this.renderInput("username","Username"),this.renderInput("email","Email"),this.renderInput("password","Password","password"),this.renderButton("Register")]})]})}}]),a}(H),q=a(53),A=a(51),M=a.n(A);x.a.defaults.baseURL=Object({NODE_ENV:"production",PUBLIC_URL:"/SpaceX",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SpaceXUrl,x.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(console.log("Logging the error",e),M.a.captureException(e),q.a.error("Unexpected Error Occured.")),Promise.reject(e)}));var W={get:x.a.get,post:x.a.post,put:x.a.put,delete:x.a.delete,setJwt:function(e){x.a.defaults.headers.common["x-auth-token"]=e}},B=a(52),K=f.a+"/auth",X="token";function Y(){return(Y=Object(O.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post(K,{email:t,password:a});case 2:n=e.sent,r=n.data,localStorage.setItem(X,r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return localStorage.getItem(X)}W.setJwt(V());var z={login:function(e,t){return Y.apply(this,arguments)},logout:function(){localStorage.removeItem(X)},getCurrentUser:function(){try{var e=localStorage.getItem(X);return Object(B.a)(e)}catch(t){return null}},loginWithJwt:function(e){localStorage.setItem(X,e)},getJwt:V},G=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).schema={email:F.a.string().email().required().label("Email"),password:F.a.string().required().label("Password")},n.doSubmit=Object(O.a)(p.a.mark((function e(){var t,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.state.data,e.next=4,z.login(t.username,t.password);case 4:a=n.props.location.state,window.location=a?a.from.pathname:"/",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response&&400===e.t0.response.status&&((r=Object(I.a)({},n.state.errors)).email=e.t0.response.data,n.setState({errors:r}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.state={data:{email:"",password:""},errors:{}},n}return Object(l.a)(a,[{key:"render",value:function(){return z.getCurrentUser()?Object(h.jsx)(b.a,{to:"/"}):Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Login"}),Object(h.jsxs)("form",{children:[Object(h.jsxs)("div",{class:"form-group",children:[Object(h.jsx)("label",{for:"exampleInputEmail1",children:"Email"}),Object(h.jsx)("input",{type:"email",class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"}),Object(h.jsx)("small",{id:"emailHelp",class:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(h.jsxs)("div",{class:"form-group",children:[Object(h.jsx)("label",{for:"exampleInputPassword1",children:"Password"}),Object(h.jsx)("input",{type:"password",class:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(h.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Submit"})]})]})}}]),a}(H),Q=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){z.logout(),window.location="/"}},{key:"render",value:function(){return null}}]),a}(n.Component),Z=(a(89),a(90),function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=z.getCurrentUser();this.setState({user:e})}},{key:"render",value:function(){var e=this.state.user;return Object(h.jsxs)(d.a,{children:[Object(h.jsx)(j,{user:e}),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(b.b,{path:"/",exact:!0,component:_}),Object(h.jsx)(b.b,{path:"/users/register",exact:!0,component:J}),Object(h.jsx)(b.b,{path:"/users/logging",exact:!0,component:G}),Object(h.jsx)(b.b,{path:"/signout",exact:!0,component:Q})]})]})}}]),a}(n.Component));c.a.render(Object(h.jsx)(Z,{}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.07d58c75.chunk.js.map